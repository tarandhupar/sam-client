<div class="usa-width-one-whole organization-profile">
  <div class="usa-width-one-whole" *ngIf="isDataAvailable">

    <div class="org-notification p_T-4x m_B-6x ">&nbsp;

      <button *ngIf="isNextLayerCreatable()" class="usa-button-big pull-right relative">
        Create <i class="fa fa-angle-down"></i>
        <samSelect class="org-type-select"
                   [name]="selectConfig.name"
                   [options]="selectConfig.options"
                   [label]="selectConfig.label"
                   [disabled]="selectConfig.disabled"
                   (modelChange)='onSelect($event)'>
        </samSelect>
      </button>
    </div>
    <div class="usa-width-one-whole">
      <span *ngFor="let hierarchyName of hierarchyPath; let i = index">
        <a [ngClass]="getLastHierarchyClass(i)" (click)="onChangeOrgDetail(hierarchyName)">{{hierarchyName}}</a>&nbsp; <span *ngIf="!isLastHierarchy(i)"> > </span>
      </span>
    </div>

    <!-- Detail Section-->
    <div class="usa-width-one-whole m_T-4x">
      <h3>{{currentHierarchyType}} Detail
        <button class="usa-button-transparent pull-right m_0 p_T-0" (click)="onEditPageClick()" *ngIf="!isEdit"><i class="fa fa-pencil"></i></button>
        <button class="usa-button-transparent pull-right m_0 p_T-0 " (click)="onCancelEditPageClick()" *ngIf="isEdit"> <i class="fa fa-times"></i></button>
        <button class="usa-button-transparent pull-right m_0 p_T-0" (click)="onSaveEditPageClick()" *ngIf="isEdit"> <i class="fa fa-save"></i></button>
      </h3>
      <div class="usa-width-one-whole m_B-4x">
        <p class="m_L-3x m_B-1x" *ngFor="let pair of orgDetails">
          <span class="usa-width-one-third m_R-0 p_T-2x p_B-1x"><h4>{{pair.description}}:</h4></span>
          <span class="usa-width-two-thirds p_T-2x p_B-1x" *ngIf="!isEdit || !isEditableField(pair.description)">&nbsp;{{pair.value}}</span>
          <textarea class="usa-width-two-thirds m_T-2x" rows="4" *ngIf="isEdit && pair.description === 'Description'" [(ngModel)]="editedDescription">{{editedDescription}}</textarea>
          <input class="usa-width-two-thirds org-edit-input" *ngIf="isEdit && pair.description === 'Shortname'" [(ngModel)]="editedShortname">
        </p>
      </div>
      <h3>{{currentHierarchyType}} Codes</h3>
      <div class="usa-width-one-whole m_B-4x">
        <p class="m_L-3x m_B-1x" *ngFor="let pair of orgCodes">
          <span class="usa-width-one-third m_R-0 p_T-2x p_B-1x"><h4>{{pair.code}}:</h4></span>
          <span class="usa-width-two-thirds p_T-2x p_B-1x">&nbsp;{{pair.value}}</span>
        </p>
      </div>
      <h3 *ngIf="orgAddresses.length > 0">{{currentHierarchyType}} Address</h3>
      <div class="usa-width-one-whole" *ngIf="orgAddresses.length > 0">
        <p class="m_L-3x m_B-1x" *ngFor="let address of orgAddresses">
          <span class="usa-width-one-third m_R-0"><h4>{{address.addressType}}:</h4></span>
          <span class="usa-width-two-thirds">{{address.value.street}}<br>{{address.value.city}}, {{address.value.state}}<br>{{address.value.zip}}</span>
        </p>
      </div>
    </div>
    <p>{{orgObj | json}}</p>
  </div>
</div>


