<div class="org-create-page relative">
  <div class="usa-width-one-whole p_B-6x" [hidden]="!createOrgPage">
    <h2 class="p_T-3x" *ngIf="isCreateMode()">Create New {{orgType}}</h2>
    <p class="p_T-3x" *ngIf="isCreateMode()">Lipsum Text goes here Pellentesque id ornare enim. Fusce sit amet hendrerit enim. Quisque fermentum ultricies rhoncus. Aenean gravida ac nisl vitae bibendum. Duis vestibulum interdum consequat. Vestibulum semper ultricies efficitur. Maecenas non viverra tortor. Mauris nisi ante, finibus dignissim nisl et, rutrum dictum mauris.</p>
    <form class="usa-width-one-whole create-org-form-section create-org-basic-section" [formGroup]="basicInfoForm">
      <sam-label-wrapper class="usa-width-one-whole m_B-2x" [label]="'Sub-Tier Name'" [name]="'Sub Tier Name'" *ngIf="!isCreateMode()">
        <span>{{ parentName}}</span>
      </sam-label-wrapper>
      <div class="usa-width-one-whole m_B-1x">
        <sam-text #orgName [required]='true' [control]="basicInfoForm.get('orgName')" formControlName="orgName" [name]="'orgName-input'" [label]="'Organization Name'"></sam-text>
      </div>
      <sam-label-wrapper #orgStartDateWrapper class="usa-width-one-half" [label]="'Start Date'" [name]="'start-date'" [required]="true">
        <sam-date (valueChange)="setOrgStartDate($event)" [label]="''" name='start-date' [value]="startDateInitVal" *ngIf="isCreateMode()"></sam-date>
        <span *ngIf="!isCreateMode()">{{startDateInitVal}}</span>
      </sam-label-wrapper>
      <sam-label-wrapper #orgEndDateWrapper class="usa-width-one-half" [label]="'End Date'" [name]="'end-date'">
        <sam-date (valueChange)="setOrgEndDate($event)" [label]="''" name='end-date' [value]="endDateInitVal"></sam-date>
      </sam-label-wrapper>
      <sam-text-area #orgDescription class="usa-width-one-whole" [control]="basicInfoForm.get('orgDescription')" formControlName="orgDescription" [label]="'Description'" name='description' [placeholder]="'Provide a description for your organization and its function.'"></sam-text-area>
      <sam-text #orgShortName class="usa-width-one-whole" [control]="basicInfoForm.get('orgShortName')" formControlName="orgShortName" [name]="'orgShortName-input'" [label]="'Short Name'"></sam-text>
      <div class="usa-width-one-half" *ngIf="isAddressNeeded()">
        <sam-label-wrapper class="p_T-3x" [label]="indicateFundRadioConfig.label" [name]="indicateFundRadioConfig.name" [required]="true">
          <sam-radio-button
            [(model)]="indicateFundRadioModel"
            [options]="indicateFundRadioConfig.options"
            [label]="''"
            [hint]="indicateFundRadioConfig.hint"
            [name]="indicateFundRadioConfig.name"
            [errorMessage]="indicateFundRadioConfig.errorMessage">
          </sam-radio-button>
        </sam-label-wrapper>
      </div>
    </form>

    <!--Office Codes Form-->
    <form [formGroup]="officeCodesForm" *ngIf="isAddressNeeded()">
      <div class="usa-width-one-whole create-org-form-section m_T-4x create-org-code-section p_T-4x p_B-4x">
        <sam-text #orgFPDSCode [control]="basicInfoForm.get('FPDSCode')" formControlName="FPDSCode" [name]="'fpds-input'" [label]="'FPDS Code'"></sam-text>
        <sam-text #orgAACCode [control]="basicInfoForm.get('ACCCode')" formControlName="ACCCode" [name]="'aac-input'" [label]="'AAC Code'"></sam-text>
      </div>
    </form>

    <!--Agency, subcommand, majorcommand Codes Form-->
    <form [formGroup]="agencyCodesForm" *ngIf="orgType==='agency' || orgType==='subcommand' || orgType==='majorcommand'">
      <div class="usa-width-one-whole create-org-form-section m_T-4x create-org-code-section p_T-4x p_B-4x">
        <sam-text #orgFPDSCode [control]="agencyCodesForm.get('FPDSCode')" formControlName="FPDSCode" [name]="'fpds-input'" [label]="'FPDS Code'"></sam-text>
        <sam-text #orgOMBBureauCode [control]="agencyCodesForm.get('OMBBureauCode')" formControlName="OMBBureauCode" [name]="'omb-input'" [label]="'OMB Code'"></sam-text>
      </div>
    </form>

    <!--Department Codes Form-->
    <form [formGroup]="deptCodesForm" *ngIf="orgType==='department'">
      <div class="usa-width-one-whole create-org-form-section m_T-4x create-org-code-section p_T-4x p_B-4x">
        <sam-text #orgFPDSCode [control]="deptCodesForm.get('FPDSCode')" formControlName="FPDSCode" [name]="'fpds-input'" [label]="'FPDS Code'"></sam-text>
        <sam-text #orgTAS2Code [control]="deptCodesForm.get('TAS2Code')" formControlName="TAS2Code" [name]="'tas2-input'" [label]="'TAS2 Code'"></sam-text>
        <sam-text #orgTAS3Code [control]="deptCodesForm.get('TAS3Code')" formControlName="TAS3Code" [name]="'tas3-input'" [label]="'TAS3 Code'"></sam-text>
        <sam-text #orgA11Code [control]="deptCodesForm.get('A11Code')" formControlName="A11Code" [name]="'a11-input'" [label]="'A11 Code'"></sam-text>
        <sam-text #orgCFDACode [control]="deptCodesForm.get('CFDACode')" formControlName="CFDACode" [name]="'cfda-input'" [label]="'CFDA Code'"></sam-text>
        <sam-text #orgOMBAgencyCode [control]="deptCodesForm.get('OMBAgencyCode')" formControlName="OMBAgencyCode" [name]="'omb-agency-input'" [label]="'OMB Agency Code'"></sam-text>
      </div>
    </form>

    <div class="usa-width-one-whole create-org-form-section m_T-4x create-org-address-section" *ngIf="isAddressNeeded()">
      <div class="usa-width-one-whole p_T-4x" *ngFor="let orgAddr of orgAddresses">
        <sam-address-form [orgAddrModel]="orgAddr.addrModel" [showAddIcon]="orgAddr.showAddIcon" (onAdditionalAddrRequest)="onAddAddressForm()" (onCancelAdditionalAddrRequest)="onDeleteAddressForm($event)" (onEnableAddIcon)="onEnableAddAddressIcon($event)"></sam-address-form>

      </div>
    </div>

    <button class="usa-button-primary p_R-4x p_L-6x pull-right" (click)="onReviewFormClick()">Review <i class="fa fa-arrow-right"></i></button>
    <button class="usa-button-outline p_R-6x p_L-6x pull-right" (click)="onCancelBtnClick()">Cancel</button>
  </div>
  <div class="usa-width-one-whole p_B-6x" *ngIf="reviewOrgPage">
    <div class="usa-width-one-whole org-confirm-header p_B-6x" *ngIf="isCreateMode()">
      <h2 class="p_T-3x">Confirm {{orgType}} Details</h2>
      <p class="p_T-3x">Lipsum Text goes here Pellentesque id ornare enim. Fusce sit amet hendrerit enim. Quisque fermentum ultricies rhoncus. Aenean gravida ac nisl vitae bibendum. Duis vestibulum interdum consequat. Vestibulum semper ultricies efficitur. Maecenas non viverra tortor. Mauris nisi ante, finibus dignissim nisl et, rutrum dictum mauris.</p>
    </div>

    <div class="usa-width-one-whole org-confirm-body p_T-3x">
      <div class="usa-width-one-whole m_L-3x m_B-1x" *ngFor="let pair of orgInfo">
        <span class="usa-width-one-third m_R-0 p_T-2x p_B-1x"><h4>{{pair.des}}:</h4></span>
        <!--<span class="usa-width-two-thirds p_T-2x p_B-1x">&nbsp;{{pair.value}}</span>-->
        <p class="usa-width-two-thirds m_T-0 p_T-2x p_B-1x" *ngIf="pair.des !== 'Description'">&nbsp;{{pair.value}}</p>
        <p class="usa-width-two-thirds m_T-0 p_T-2x p_B-1x" *ngIf="pair.des === 'Description'">
          <span *ngIf="pair.value.length < 500 || showFullDes">{{pair.value}}<span *ngIf="pair.value.length >= 500 && showFullDes">&nbsp;&nbsp;<a class="org-create-expand-link" (click)="hideFullDescription()">read less</a></span></span>
          <span *ngIf="pair.value.length >= 500 && !showFullDes">{{pair.value.substr(0,500)}}...<a class="org-create-expand-link" (click)="showFullDescription()">read more</a></span>
        </p>
      </div>
      <div *ngIf="isAddressNeeded()">
        <p class="m_L-3x m_B-1x" *ngFor="let address of orgAddresses">
          <span class="usa-width-one-third m_R-0 p_T-2x p_B-1x"><h4>{{address.addrModel.addrType}}:</h4></span>
          <span class="usa-width-two-thirds p_T-2x p_B-1x">{{address.addrModel.street1}}<br>
            <span *ngIf="address.addrModel.street2.length > 0">{{address.addrModel.street2}}<br></span>
            {{address.addrModel.city}}, {{address.addrModel.state}}&nbsp;{{address.addrModel.postalCode}}<br>{{address.addrModel.country}}</span>
        </p>
      </div>

    </div>
    <button class="usa-button-primary p_R-4x p_L-4x pull-right" (click)="onConfirmFormClick()">Confirm</button>
    <button class="usa-button-outline p_R-6x p_L-4x pull-right" (click)="onEditFormClick()"><i class="fa fa-arrow-left"></i>Edit</button>
  </div>
</div>
