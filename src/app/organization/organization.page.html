<div class="sam-ui container" id="organization-page">

    <!-- Error Message -->
    <ng-container *ngIf="errorOrganization">
      Organization ID: {{errorOrgId}} NOTE: Complete Federal Hierarchy
      information is currently unavailable.
    </ng-container>

    <!-- Main Content   -->
    <ng-container *ngIf="organization">
      <div class="sam-ui hidden divider"></div>

      <!-- Page title -->
      <h1 class="sam-ui header">
        {{ organization.name || organization.agencyName || organization.orgKey}}
        {{ (organization.shortName == '' || organization.shortName == null) ?
        '': '('+organization.shortName+')'}}
      </h1>

      <div class="sam-ui hidden divider"></div>

      <!-- Intro Content -->
      <div class="sam-ui padded raised segment">
        <div class="sam-ui top right attached mini label">
          Federal Hierarchy
        </div>
        <div class="sam-ui attached grid">
          <div class="column">
            <div class="sam-ui items">
              <div class="item">
                <div class="image">
                  <img *ngIf="logoUrl && !errorLogo"
                        [src]="logoUrl"
                        [alt]="logoInfo"
                        [title]="logoInfo"
                        width="140px">
                  <img *ngIf="(errorOrganization || errorLogo || logoUrl===null)"
                        src="src/assets/img/logo-not-found.png"
                        alt="Logo Not Available"
                        width="140px">
                </div>
                <div class="content">
                  <div class="sam-ui relaxed divided list">
                    <div class="item">
                      <div class="content">
                        <div class="header">
                          Status
                        </div>
                        <div class="description">
                          <span class="inactive" *ngIf="isModActive() == false">
                            <em class="fa fa-circle-thin fa-sm" aria-hidden="true"></em>
                            <em>Inactive</em>
                          </span>

                          <span class="active" *ngIf="isModActive() == true">
                            <em class="fa fa-circle fa-sm" aria-hidden="true"></em>
                            <em>Active</em>
                          </span>
                        </div>
                      </div>
                    </div>
                    <div class="item">
                      <div class="content">
                        <div class="header">
                          Federal Hierarchy Level
                        </div>
                        <div class="description">
                          <ng-container *ngIf="organization.type == 'DEPARTMENT'">
                            Department/Ind. Agency
                          </ng-container>
                          <ng-container *ngIf="organization.type == 'AGENCY'">
                            Sub-tier
                          </ng-container>
                        </div>
                      </div>
                    </div>
                    <div class="item">
                      <div class="content">
                        <div class="header">
                          {{(organization | organizationTypeCode).label}}
                        </div>
                        <div class="description">
                          {{(organization | organizationTypeCode).value}}
                        </div>
                      </div>
                    </div>
                    <div class="item" *ngFor="let org of hierarchy">
                      <div class="header">
                        {{org.type}}
                      </div>
                      <div class="description">
                        <a  [routerLink]="['/organization', org.orgKey]"
                          [queryParams]="qParams">
                          {{org.name}}
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Summary -->
      <section *ngIf="organization.summary" class="sam-ui container">
        <div class="sam-ui hidden divider"></div>
        <h2 class="sam-ui header">Summary</h2>
        <p style="max-width: 700px;" id="orgDescription" [innerHTML]="organization.summary"></p>
      </section>

      <div class="sam-ui hidden section divider"></div>

      <!-- Sub-Tier Agencies -->
      <section id="organization-sub-hierarchy" *ngIf="organization.hierarchy.length>0 && organization.type == 'DEPARTMENT'">
        <!--<ng-container [ngSwitch]="organization.type">-->
          <!--<ng-container *ngSwitchCase="'DEPARTMENT'">-->
            <h2 class="sam-ui header">Sub-Tier Agencies</h2>
          <!--</ng-container>-->
<!--          <ng-container *ngSwitchCase="'AGENCY'">
            <h2 class="sam-ui header">Offices</h2>
          </ng-container>-->
        <!--</ng-container>-->
        <strong>
          <list-results-message [showing]="10" [currentPage]="min+1" [total]="totalOrganizationNumber" [suffix]="listMessageSuffix"></list-results-message>
        </strong>

        <ul id="org-pagination" class="usa-zebra-list">
          <li tabindex="-1" *ngFor = "let element of organizationPerPage">
            <div *ngIf="organization.type == 'DEPARTMENT' || organization.categoryDesc == 'DEPARTMENT'">
              <a [routerLink]="['/organization', element.orgId]"
                 [queryParams]="qParams">
                {{ element.name }}
              </a>
            </div>
            <div *ngIf="organization.type == 'AGENCY' || organization.categoryDesc == 'AGENCY'">
              {{ element.name }}
            </div>
          </li>
        </ul>
      </section>

      <!-- No Sub-Tier Agencies found -->
      <section [ngSwitch]="organization.type"
        *ngIf="organization.hierarchy.length==0 && organization.type != 'OFFICE'">
        <ng-container *ngSwitchCase="'DEPARTMENT'">
          <h2 class="sam-ui header">Sub-Tier Agencies</h2>
        </ng-container>
<!--        <ng-container *ngSwitchCase="'AGENCY'">
          <h2 class="sam-ui header">Offices</h2>
        </ng-container>-->
        <div class="sam-ui medium header">
          <ng-container *ngSwitchCase="'DEPARTMENT'">
            <em>No Sub-Tiers are listed under this Department/Ind. Agency</em>
          </ng-container>
<!--          <ng-container *ngSwitchCase="'AGENCY'">
            <em>No Offices are listed under this Sub-Tier</em>
          </ng-container>-->
        </div>
      </section>

      <!-- Pagination -->
      <sam-pagination *ngIf="organization.type == 'DEPARTMENT'"
                      (pageChange)="pageChange($event)"
                      [currentPage]="pageNum"
                      [totalPages]="totalPages">
      </sam-pagination>
    </ng-container>

    <div class="sam-ui hidden section divider"></div>

</div>
