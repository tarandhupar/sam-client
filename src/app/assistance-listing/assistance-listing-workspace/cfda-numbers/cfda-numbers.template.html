<page
  *ngIf="processedCfdaNumbers"
  theme="inside"
  [breadcrumbs]="crumbs"
  section="Workspace"
  title="CFDA Numbers">

  <!-- Sidebar section -->
  <sidebar>
    <!--&lt;!&ndash; Navigation &ndash;&gt;-->
    <ul class="usa-sidenav-list">
      <li>
        <a routerLink="/fal/workspace">
          Assistance Listings
        </a>
      </li>
      <li>
        <a routerLink="/fal/myRegionalOffices">
          Manage Assistance Locations
        </a>
      </li>
      <li>
        <a class="usa-current">
          CFDA Numbers
        </a>
      </li>
      <li>
        <a routerLink="/workspace/my-feed"
           [queryParams]="{domain: 'al', event: 'request', pending: true}">
          Pending Requests
        </a>
      </li>
    </ul>

  </sidebar>

  <!-- Page results -->
  <results
    *ngIf="processedCfdaNumbers"
    [totalElements]="cfdaNumbersApi?.page?.totalElements"
    [showing]="20"
    [totalPages]="cfdaNumbersApi?.page?.totalPages"
    [currentPage]="currentPage+1"
    (pageChange)="pageChangeHandler($event)">

    <!-- Results -->
    <div class="sam-ui segment">
      <ng-container *ngFor="let row of processedCfdaNumbers">
        <div class="sam-ui section divider"></div>
        <div class="sam-ui grid">
          <div class="eight wide column">
            <div><strong>{{ row.agencyName | capitalize }}</strong></div>
            <div><em>{{ row.agencyType | formatFederalHierarchyType}}</em></div>
            <div> Low Number: {{ row.programNumberLow }}</div>
            <div> High Number: {{ row.programNumberHigh }}</div>
          </div>
          <div class="four wide column">
            <sam-button [buttonType]="buttonType"
                        [attr.id]="'edit-btn'"
                        [buttonText]="'Edit'"
                        [buttonClass]="'usa-button-primary'"
                        (onClick)="onEditClick(row.organizationId)">
            </sam-button>
            <div>Automatic Assignment: {{ row.programNumberAuto == true ? 'On' : 'Off'}}</div>
            <div>Modified Date: {{ row.modifiedDate }}</div>
          </div>
        </div>
      </ng-container>

      <p *ngIf="cfdaNumbersApi.length==0">
        There are no requests under the selected criteria.
      </p>

    </div>
  </results>

  <p *ngIf="cfdaNumbersApi.length==0">
    There are no results under the selected criteria.
  </p>

</page>
