<div class="usa-grid-full" *ngIf="pageReady" [ngClass]="'assistance-listing-operations'">
  <page
    theme="inside"
    [attr.id]="'page-title'"
    [options]="options"
    [breadcrumbs]="crumbs"
    section="Workspace"
    title="Edit CFDA Number Assignment">

    <sam-alert [type]="'error'" [title]="''" *ngIf="isCfdaCodeRestricted">
      Your CFDA agency identifier is shared with other organizations and cannot be changed manually. If you need to adjust the number range for your organization please contact the Federal Service Desk for assistance.
    </sam-alert>
    <div class="twelve wide mobile eleven wide tablet seven wide computer column">
      <div class="sam-ui hidden divider"></div>
      <div id="page-data" class="sam-ui segment" *ngIf="organization">
        <div class="sam-ui medium header">
          Organization
          <div class="sub header">{{organization.name}}</div>
        </div>
      </div>
      <div class="sam-ui hidden divider"></div>

      <form [formGroup]="cfdaNumberConfigForm">
        <div class="sam-ui segment">
          <sam-radio-button *ngIf="cfdaNumberConfigForm.get('assignment').value != null"
                            [name]="'assignment-radio-buttons'"
                            [options]="assignmentOptions"
                            [label]="'Assignment Type'"
                            [formControlName]="'assignment'"
                            [required] = "true"
                            [control]="cfdaNumberConfigForm.get('assignment')">
          </sam-radio-button>
          <sam-label-wrapper #validationNumber>
            <sam-text [control]="cfdaNumberConfigForm.controls['lowNumber']"
                      [name]="'low-number-input'"
                      [label]="'Low Number*'"
                      [required]="true"
                      [maxlength]="3"
                      formControlName="lowNumber">
            </sam-text>

            <sam-text [control]="cfdaNumberConfigForm.controls['highNumber']"
                      [name]="'high-number-input'"
                      [label]="'High Number*'"
                      [required]="true"
                      [maxlength]="3"
                      formControlName="highNumber">
            </sam-text>
          </sam-label-wrapper>
        </div>

        <div class="text-align-right">
          <sam-button [buttonType]="'tertiary'"
                      [buttonDisabled]=false
                      [attr.id]="'cancel-btn'"
                      [buttonText]="'Cancel'"
                      (onClick)="cancelCFDANumberConfigChange()">
          </sam-button>
          <sam-button [buttonType]="buttonType"
                      [buttonDisabled]="buttonDisabled || isCfdaCodeRestricted"
                      [attr.id]="'submit-btn'"
                      [buttonText]="'Submit'"
                      (onClick)="submitCFDANumberConfigChange()">
          </sam-button>
        </div>

        <ng-container *ngIf="buttonDisabled && isSubmitClicked">Processing Request...</ng-container>
      </form>
    </div>
  </page>
</div>
