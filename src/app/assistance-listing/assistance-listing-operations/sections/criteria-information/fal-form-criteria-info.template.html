<div id="stickyLabel" class="sticky-label" *ngIf="!viewModel.isNew">Edit Criteria for Applying - {{ viewModel.title }}</div>
<form *ngIf="falCriteriaForm" [formGroup]="falCriteriaForm" novalidate (ngSubmit)="save(falCriteriaForm)">
  <div class="fal-label-margin">
    <samCheckboxToggledTextarea #documentationComp [options]="documentationConfig"
                                [formControlName]="'documentation'"
                                [attr.id]="'fal-criteria-documentation'"
                                [control]="falCriteriaForm.get('documentation')"
    ></samCheckboxToggledTextarea>
  </div>
  <div class="fal-label-margin fal-label">Eligibility Requirements</div>
  <sam-autocomplete-multiselect
    [options]="applicantTypeOptions"
    [name]="'applicantTypes-control'"
    formControlName="applicantType"
    [control]="falCriteriaForm.controls['applicantType']"
    [keyValueConfig]="appAutocompleteConfig.keyValueConfig"
    [required]="true"
    [attr.id]="'fal-criteria-applicant-list'"
    [label]="'Applicant Eligibility'"
    [hint]="applicantEligibilityHint">
  </sam-autocomplete-multiselect>
  <sam-text-area
    [control]="falCriteriaForm.controls['applicantDesc']"
    [name]="'applicant-description-input'"
    [attr.id]="'applicant-eligibility-text'"
    [label]="'Describe who may apply for the assistance. Use specific terms that will help public users find this listing.'"
    formControlName="applicantDesc"></sam-text-area>

  <div class="fal-label-margin fal-label">Beneficiary Eligibility</div>
  <sam-checkbox
    [control]="falCriteriaForm.controls['isSameAsApplicant']"
    [name]="'beneficiary-SameAsApplicant-input-checkbox'"
    [options]="benSameAsApplicantConfig.options"
    formControlName="isSameAsApplicant"
    [hint]="beneficiaryEligibilityHint"
    [attr.id]="'beneficiary-eligibility'"
    (modelChange)="chkSameAsApp($event)"></sam-checkbox>
  <div [hidden]="toggleBenSection">
    <sam-autocomplete-multiselect
      [attr.id]="'fal-criteria-beneficiary-list'"
      [options]="benTypeOptions"
      [name]="'benificiaryTypes-control'"
      formControlName="benType"
      [control]="falCriteriaForm.controls['benType']"
      [keyValueConfig]="benAutocompleteConfig.keyValueConfig"
      [required]="true"
      [label]="'Beneficiary Eligibility'">
    </sam-autocomplete-multiselect>
    <sam-text-area
      [control]="falCriteriaForm.controls['benDesc']"
      [name]="'beneficiary-description-input'"
      [attr.id]="'beneficiary-eligibility-text'"
      [label]="'Describe who may benefit from the assistance.'"
      formControlName="benDesc"></sam-text-area>
  </div>
  <sam-text-area
    [hint]="timePhasingHint"
    [control]="falCriteriaForm.controls['lengthTimeDesc']"
    [name]="'lengthandtime-description-input'"
    [label]="'Length and Time Phasing of Assistance'"
    [attr.id]="'fal-criteria-length-time-desc'"
    [required]="true"
    formControlName="lengthTimeDesc"></sam-text-area>

  <sam-select
    [control]="falCriteriaForm.controls.awardedType"
    [label]="'How is this assistance awarded and/or released?'"
    [name]="'awardedtypes-control'"
    [required]="true"
    [options]="awardedTypeOptions"
    formControlName="awardedType"
    [attr.id]="'fal-criteria-awarded-type'"
    [hint]="'Select the value that best represent how funding is released.'"
    (modelChange)="onawardedTypeChange($event)"></sam-select>

  <div *ngIf="awardedTextarea">
    <sam-text-area
      [control]="falCriteriaForm.controls['awardedDesc']"
      [name]="'awarded-description-input'"
      [label]="'Additional Information'"
      formControlName="awardedDesc"></sam-text-area>
  </div>
  <div class="fal-label-margin fal-label">Use and Use Restrictions</div>
  <sam-autocomplete-multiselect
      [options]="assUsageTypeOptions"
      [name]="'assUsageTypes-control'"
      formControlName="assUsageType"
      [control]="falCriteriaForm.controls['assUsageType']"
      [keyValueConfig]="assUsageAutocompleteConfig.keyValueConfig"
      [required]="true"
      [label]="'Use of Assistance'"
      [attr.id]="'fal-criteria-ass-usage-list'"
      [hint]="useOfAssistanceHint">
    </sam-autocomplete-multiselect>
  <sam-text-area
    [control]="falCriteriaForm.controls['assUsageDesc']"
    [name]="'assistanceusage-description-input'"
    [label]="'Describe how assistance may be used. Use specific terms that will help public users find this listing.'"
    [attr.id]="'fal-criteria-ass-usage-desc'"
    [required]="true"
    formControlName="assUsageDesc"></sam-text-area>
  <samCheckboxToggledTextarea #usageResComp class = "toggle-text-checkbox" [options]="useResConfig"
                              [attr.id]="'fal-criteria-usage-restrictions'"
                              [formControlName]="'usageRes'" [textareaLabel] = "['Please describe']"
                              [control]="falCriteriaForm.get('usageRes')"
  ></samCheckboxToggledTextarea>
  <samCheckboxToggledTextarea #useDisFundsComp class = "toggle-text-checkbox" [options]="useDisFundsConfig"
                              [attr.id]="'fal-criteria-use-dis-funds'"
                              [formControlName]="'useDisFunds'" [textareaLabel] = "['Please describe']"
                              [control]="falCriteriaForm.get('useDisFunds')"
  ></samCheckboxToggledTextarea>
  <samCheckboxToggledTextarea #useLoanTermsComp class = "toggle-text-checkbox" [options]="useLoanTermsConfig"
                              [attr.id]="'fal-criteria-use-loan-terms'"
                              [formControlName]="'useLoanTerms'" [textareaLabel] = "['Please describe']"
                              [control]="falCriteriaForm.get('useLoanTerms')"
  ></samCheckboxToggledTextarea>
</form>
