<h2 class="sam-ui header">
  Obligations
</h2>

<form [formGroup]="finObligationsForm">
  <div class="sam-ui segment">
    <div class="fal-label-margin"> Select if applicable</div>
    <sam-checkbox
      [control]="finObligationsForm.controls['isFundedCurrentFY']"
      [name]="currentFiscalYearCheckboxConfig.name"
      [options]="currentFiscalYearCheckboxConfig.options"
       formControlName="isFundedCurrentFY">
    </sam-checkbox>
  </div>
  
  <div class="sam-ui segment">
    <div [attr.id]="'fal-obligation-obligationList'" class="fal-obligations-label">
      Obligations
    </div>
    <falObligationFYTable
      [fyYearOptions] = "fyYearOptions"
      [hideAddButton]="hideAddButton"
      [attr.id]="'financial-obligation-fy-table'"
      [obligationsInfo]="obligationsInfo"
      [total] = "totalvalue"
      (obligationTableActionHandler)="obligationActionHandler($event)" #obligationTable>
    </falObligationFYTable>
    
    <obligation-subform [acCategories]="ac_categories"  [fyYearOptions] = "fyYearOptions" [hideAddButton]="hideAddButton" [attr.id]="'financial-obligation-subform'" (subFormObligActionHandler)="obligationActionHandler($event)"
                         [options] = "options"
                         [toggleAttleatOneEntryError]="toggleAttleatOneEntryError"
                        #obligationSubForm>
    </obligation-subform>
  </div>
</form>
