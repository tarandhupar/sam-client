<div id="stickyLabel" class="sticky-label" *ngIf="!viewModel.isNew">Edit Applying for Assistance - {{ viewModel.title }}</div>

<form [formGroup]="falAssistanceForm">

  <div formGroupName="deadlines">

    <sam-radio-button [label]="'Deadlines'"
                    [name]="'deadlineFlag-radio-buttons'"
                    [options]="deadlinesFlagOptions"
                    [required]="true"
                    formControlName="flag"
    ></sam-radio-button>

    <div [class.hide]="falAssistanceForm.value.deadlines.flag != 'yes'">

      <assistInfoTable
        [hideAddButton]="hideAddButton"
        [assistInfo]="assistInfoDisp"
        (assistTableActionHandler)="assistActionHandler($event)"></assistInfoTable>

      <assistSubform #assistSubForm
                     [hideAddButton]="hideAddButton"
                     (assistActionHandler)="assistActionHandler($event)"
      ></assistSubform>

      <sam-text-area [label]="'Other Deadline Information'"
                   [name]="'deadlines-description'"
                   formControlName="description"
      ></sam-text-area>
    </div>
  </div>

  <div formGroupName="preApplicationCoordination">
    <sam-checkbox [label]="'Pre-Application Coordination'"
                 [name]="'preAppCord-checkbox'"
                 [hint]="'Select all that apply'"
                 [options]="preAppCordOptions"
                 formControlName="reports"
    ></sam-checkbox>

    <sam-text-area [label]="'Additional Information'"
                 [name]="'preAppCord-description'"
                 formControlName="description"
                 [class.hide]="falAssistanceForm.value.preApplicationCoordination.reports.length == 0"
    ></sam-text-area>
  </div>

  <div formGroupName="applicationProcedure">

    <sam-checkbox [label]="'Application Procedures'"
                 [name]="'appProc-checkbox'"
                 [hint]="'Select if applicable.'"
                 [options]="appProcOptions"
                 formControlName="isApplicable"
    ></sam-checkbox>

    <sam-text-area [label]="'Please list the steps for applying for assistance. Only include instructions not already covered by 2 CFR 200.'"
                 [name]="'appProc-description'"
                 formControlName="description"
    ></sam-text-area>

  </div>

  <div formGroupName="selectionCriteria">

    <sam-checkbox [label]="'Criteria for Selecting Proposals'"
                 [name]="'selectionCriteria-checkbox'"
                 [hint]="'Select if applicable.'"
                 [options]="selectionCriteriaOptions"
                 formControlName="isApplicable"
    ></sam-checkbox>

    <sam-text-area [label]="'Please describe.'"
                 [name]="'selectionCriteria-description'"
                 [required]="true"
                 formControlName="description"
                 [class.hide]="falAssistanceForm.value.selectionCriteria.isApplicable[0] != true"
    ></sam-text-area>
  </div>

  <div formGroupName="awardProcedure">
    <sam-text-area [label]="'Award Procedure'"
                 [hint]="'Describe how assistance is awarded. Include who approves the award and how assistance is distributed.'"
                 [name]="'awardProcedure-description'"
                 [required]="true"
                 formControlName="description"
    ></sam-text-area>
  </div>

  <div formGroupName="approval">
    <sam-select [label]="'Date Range for Approval/Disapproval'"
               [hint]="'Select the range that best represents how much time the approval process takes.'"
               [name]="'approval-input'"
               [options]="dateRangeOptions"
               [required]="true"
               formControlName="interval"
    ></sam-select>

    <sam-text-area [label]="'Other Approval Information'"
                 [hint]="'Provide an additional information if appropriate.'"
                 [name]="'approval-description'"
                 formControlName="description"
    ></sam-text-area>
  </div>

  <div formGroupName="renewal">
    <sam-select [label]="'Renewals'"
               [hint]="'Select the range that best represents when an awardee may apply for a renewal or extension.'"
               [name]="'approval-input'"
               [options]="dateRangeOptions"
               [required]="true"
               formControlName="interval"
    ></sam-select>

    <sam-text-area [label]="'Other Renewal Information'"
                 [hint]="'Describe renewal or extension procedures.'"
                 [name]="'renewal-description'"
                 formControlName="description"
    ></sam-text-area>
  </div>

  <div formGroupName="appeal">
    <sam-select [label]="'Appeals'"
               [hint]="'Select the range that best represents how long an applicant has to appeal a decision.'"
               [name]="'appeals-input'"
               [options]="dateRangeOptions"
               [required]="true"
               formControlName="interval"
    ></sam-select>
    <sam-text-area [label]="'Other Appeals Information'"
                 [hint]="'Describe appeal, rework, or other options for applications that are not approved.'"
                 [name]="'appeals-description'"
                 formControlName="description"
    ></sam-text-area>
  </div>

</form>

