<div class="assistance-listing-operations">
  <div class="usa-grid">
    <fal-form-side-nav class="usa-width-one-fourth"
                       [showSubmit]="(toggleButton && isSection('submit'))"></fal-form-side-nav>

    <div class="usa-width-three-fourths">
      <div class="usa-width-one-whole m_L-4x">
        <fal-form-header-information *ngIf="isSection('header-information')"
                                     [viewModel]="falFormViewModel"
                                     (onError)="sectionEventHandler($event)"
                                     #form></fal-form-header-information>

        <fal-form-overview *ngIf="isSection('overview')"
                           [viewModel]="falFormViewModel"
                           (onError)="sectionEventHandler($event)"
                           #form></fal-form-overview>

        <fal-form-authorization *ngIf="isSection('authorization')"
                                [viewModel]="falFormViewModel"
                                (onError)="sectionEventHandler($event)"
                                #form></fal-form-authorization>

        <fal-form-obligation-info *ngIf="isSection('financial-information-obligations')"
                                  [viewModel]="falFormViewModel"
                                  (onError)="sectionEventHandler($event)"
                                  #form></fal-form-obligation-info>

        <fal-form-financial-info-other *ngIf="isSection('financial-information-other')"
                                       [viewModel]="falFormViewModel"
                                       (onError)="sectionEventHandler($event)"
                                       #form></fal-form-financial-info-other>

        <fal-form-criteria-info *ngIf="isSection('criteria-information')"
                                [viewModel]="falFormViewModel"
                                (onError)="sectionEventHandler($event)"
                                #form></fal-form-criteria-info>

        <fal-form-assistance *ngIf="isSection('applying-for-assistance')"
                             [viewModel]="falFormViewModel"
                             (onError)="sectionEventHandler($event)"
                             #form></fal-form-assistance>

        <fal-form-compliance-requirements *ngIf="isSection('compliance-requirements')"
                                          [viewModel]="falFormViewModel"
                                          (onError)="sectionEventHandler($event)"
                                          #form></fal-form-compliance-requirements>

        <fal-form-contact-info *ngIf="isSection('contact-information')"
                               [viewModel]="falFormViewModel"
                               (onError)="sectionEventHandler($event)"
                               #form></fal-form-contact-info>

        <fal-form-submit *ngIf="isSection('submit') && toggleButton && sectionErrors.length == 0" [viewModel]="falFormViewModel"></fal-form-submit>

        <div>
          <div class="pull-left">
            <sam-button buttonText="Cancel" (onClick)="onCancelClick($event)"></sam-button>
            <div class="pull-right" *ngIf="!isSection('submit')">
              <sam-button buttonText="Save and Exit" (onClick)="onSaveExitClick($event)"></sam-button>
              <sam-button *ngIf="currentSection - 1 >= 0" buttonText="Previous"
                          (onClick)="onSaveBackClick($event)"></sam-button>
              <sam-button
                *ngIf="((currentSection + 1 < sections.length && !isSection('review')) || (toggleButton && sectionErrors.length == 0))"
                buttonText="Save and Continue" (onClick)="onSaveContinueClick($event)"></sam-button>
              <ng-container *ngIf="isSection('review') && (!toggleButton && sectionErrors.length == 0)">
                <sam-button buttonText="Notify Agency Coordinator" (onClick)="onNotifyClick($event)"></sam-button>
              </ng-container>
            </div>
            <div class="pull-right" *ngIf="isSection('submit') && toggleButton && sectionErrors.length == 0">
              <sam-button buttonText="Submit to OMB" [buttonType]="!falFormViewModel.reason ? 'disabled' : 'default'"
                          (onClick)="onSubmitOMBClick($event)"></sam-button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
