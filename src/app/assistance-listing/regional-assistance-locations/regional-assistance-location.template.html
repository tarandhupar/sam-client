<workspace-layout *ngIf="permissions" (pageChange)="pageChange($event-1)" [currentPage]="pageNum+1" [totalPages]="totalPages"
                  [totalElements]="totalCount" [loadFlag]="data.length >= 0"
                  titleText="Regional Assistance Locations">
  <br>
  <div workspace-sidebar></div>
  <div workspace-content class="workspace-content">
    <div class="sam-ui grid">
      <div class="row">
    <div *ngIf="raoExists && !initLoad" custom-input class="search-bar eight wide column">

      <sam-autocomplete class="div-fill"#autocomplete
                        [(ngModel)]="keyword"
                        (ngModelChange)="regionalLocationSearchModel($event)"
                        (enterEvent)="regionalLocationSearchClick()"
                        [config]="regionalLocationSearchConfig"
                        [options]="[]"
                        [showClearButton]="true"
                        [allowAny]="true"
                        name="appsearch">
      </sam-autocomplete>
      <sam-button class="div-right"
                  [buttonType]="'default'"
                  [buttonText]="'Search' "
                  [buttonClass]="'usa-button-primary usa-search-submit search-btn'"
                  (onClick)="regionalLocationSearchClick()">
      </sam-button>
    </div>

    </div>
      <div class="row" *ngIf="!initLoad">
          <div *ngIf="permissions['CREATE_RAO']" class="eight wide">
          <sam-button class="div-right"
                      [buttonType]="'default'"
                      [buttonText]="'Create New' "
                      [buttonClass]="'sam-ui button dark blue'"
                      (onClick)="createNewLocation()">
          </sam-button>
        </div>
      </div>
      <div class="row" *ngIf="permissions['CREATE_RAO']">
        <span *ngIf="!raoExists">There are no Regional Agency Offices associated with user's department</span>
      </div>
    </div>

    <br>
    <div *ngFor="let row of data" tabindex="-1">
      <regional-assistance-location-result [data]="row" [qParams]="qParams" [permissions]="permissions"></regional-assistance-location-result>
      <div class="sam-ui section divider"></div>
    </div>

    <div class="search-inactive-results" *ngIf="oldKeyword!='' && data.length===0 && !initLoad">
      <p>No results found for '<span class = 'no-results-found' [innerText]="oldKeyword"></span>'</p>
      <div style="height:300px;"></div>
    </div>

  </div>
</workspace-layout>
