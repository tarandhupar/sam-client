<page 
  theme="inside" 
  [breadcrumbs]=""
  section="Workspace"
  [title]="isEditForm ? 'Edit Regional Assistance Location' : 'Add Regional Assistance Location'">
  
  <div class="sam-ui grid">
    <div class="twelve wide mobile eleven wide tablet seven wide computer column">
      
      <div class="sam-ui info icon message">
        <i class="icon fa fa-info-circle" aria-hidden="true"></i>
        <div class="content">
          Any updates made in this space will not be reflected in the public view.
        </div>
      </div>
      
      <sam-button 
        buttonText="Submit" 
        (onClick)="onSubmit()"
        [buttonType]="(!raoFormGroup.valid ? 'disabled' : 'default')">
      </sam-button>
      <sam-button 
        *ngIf="isEditForm"
        buttonText="Delete Location" 
        (onClick)="modal2.openModal($event)">
      </sam-button>
      <sam-button 
        buttonText="Cancel" 
        (onClick)="onCancelClick($event)">
      </sam-button>
      
      <div class="sam-ui segment" *ngIf="isEditForm">
        <div class="sam-ui medium header">
          Created By {{RaoFormViewModel.createdBy || 'NA'}}
          <div class="sub header">
            On {{RaoFormViewModel.createdDate|date: 'MMM d, yyyy h:mm a' || ''}}
          </div>
        </div>
        <div class="sam-ui medium header">
          Last Modified By {{RaoFormViewModel.modifiedBy || 'NA'}}
          <div class="sub header">
            On {{RaoFormViewModel.modifiedDate|date: 'MMM d, yyyy h:mm a' || ''}}
          </div>
        </div>
      </div>
      
      <div class="sam-ui segment">
        <form [formGroup]="raoFormGroup">
        
          <!--Department and Subtier-->
          <sam-agency-picker
             [label]="'Federal Agency'"
             [multimode]="false"
             [advancedMode]="false"
             [required]="true"
             [orgId]="RaoFormViewModel.organizationId"
             [initial]="RaoFormViewModel.organizationId ? [RaoFormViewModel.organizationId] : []"
             (organization)="onOrganizationChange($event)"
             [levelLimit]='2'
             formControlName="organizationId" #agencyPicker>
          </sam-agency-picker>
        
          <!--State/Region-->
          <sam-text
            [control]="raoFormGroup.controls['region']"
            [name]="'region'"
            [label]="'State/Region:'"
            [required]="false"
            formControlName="region">
          </sam-text>
        
          <!--Point of Contact-->
          <sam-text-area
            [control]="raoFormGroup.controls['pointOfContact']"
            [name]="'poc'"
            [label]="'Point Of Contact:'"
            [required]="true"
            formControlName="pointOfContact">
          </sam-text-area>
        
          <!--Street Address-->
          <sam-text-area
            [control]="raoFormGroup.controls['street']"
            [name]="'street:'"
            [label]="'Street:'"
            [required]="true"
            formControlName="streetAddress">
          </sam-text-area>
        
          <!--City-->
          <sam-text
            [control]="raoFormGroup.controls['city']"
            [name]="'city'"
            [label]="'City:'"
            [required]="true"
            formControlName="city">
          </sam-text>
        
          <!--State-->
          <sam-select
            [control]="raoFormGroup.controls['state']"
            [label]="'State:'"
            [name]="'state-control'"
            [required]="true"
            [options]="stateDrpDwnOptions"
            formControlName="state">
          </sam-select>
        
          <!--Zip-->
          <sam-text
            [control]="raoFormGroup.controls['zip']"
            [name]="'zip'"
            [label]="'Zip Code:'"
            [required]="true"
            formControlName="zip">
          </sam-text>
        
          <!--Country-->
          <sam-select
            [control]="raoFormGroup.controls['country']"
            [label]="'Country:'"
            [name]="'contry'"
            [required]="false"
            [options]="countryDrpDwnOptions"
            formControlName="country">
          </sam-select>
        
          <!--Phone -->
          <sam-text
            [control]="raoFormGroup.controls['phone']"
            [name]="'phone'"
            [label]="'Phone:'"
            [required]="true"
            formControlName="phone">
          </sam-text>
        
          <!--Sub-Branch-->
          <sam-text
            [control]="raoFormGroup.controls['subBranch']"
            [name]="'subBranch'"
            [label]="'Sub-Branch:'"
            [required]="false"
            formControlName="subBranch">
          </sam-text>
        
          <!--Division-->
          <sam-select
            [control]="raoFormGroup.controls['division']"
            [label]="'Division:'"
            [name]="'division'"
            [required]="false"
            [options]="divisionDrpDwnOptions"
            formControlName="division">
          </sam-select>
        
        </form>
      </div>
      
      <sam-modal #modal2
                 [type]="'info'"
                 [title]="'Are You Sure?'"
                 [cancelButtonLabel]="'No'"
                 [submitButtonLabel]="'Yes'"
                 [description]="'Are you sure you want to delete this location? Note: Any updates made in this space will not be reflected in the public view.'"
                 (onClose)="onModalClose($event)"
                 (onSubmit)="deleteRAO($event)">
      </sam-modal>
      
      <sam-button 
        buttonText="Submit" 
        (onClick)="onSubmit()"
        [buttonType]="(!raoFormGroup.valid ? 'disabled' : 'default')">
      </sam-button>
      <sam-button
        *ngIf="isEditForm" 
        buttonText="Delete Location" 
        (onClick)="modal2.openModal()">
      </sam-button>
      <sam-button 
        buttonText="Cancel" 
        (onClick)="onCancelClick($event)">
      </sam-button>
      
    </div>
  </div>
  
  <div class="sam-ui hidden section divider"></div>
  
</page>

