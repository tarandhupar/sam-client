<div class="assistance-listing-operations">
  <div class="usa-grid">

    <div *ngIf="isEditForm">
      <h1>Edit Regional Assistance Location</h1>
    </div>

    <div *ngIf="!isEditForm">
      <h1>Add Regional Assistance Location</h1>
    </div>

    <div>Note: Any updates made in this space will not be reflected in the public view.</div>

    <div class="usa-width-three-fourths">
      <div class="usa-width-one-whole m_L-4x">
        <div>
          <div class="pull-left">
            <sam-button buttonText="Submit" (onClick)="onSubmit()"
                        [buttonType]="(!raoFormGroup.valid ? 'disabled' : 'default')"></sam-button>
            <div *ngIf="isEditForm" class="pull-right">
              <sam-button buttonText="Delete Location" (onClick)="modal2.openModal($event)"></sam-button>
            </div>
            <div class="pull-right">
              <sam-button buttonText="Cancel" (onClick)="onCancelClick($event)"></sam-button>
            </div>
          </div>
        </div>
      </div>


      <div class="usa-width-one-whole m_L-4x">
        <div *ngIf="isEditForm">
          <div class="inline">
            <strong>Created By: </strong><span>{{RaoFormViewModel.createdBy || 'NA'}}</span>
            <strong>On: </strong> <span>{{RaoFormViewModel.createdDate|date: 'MMM d, yyyy h:mm a' || ''}}</span>
          </div>
          <hr>
          <div>
            <strong>Last Modified By: </strong><span>{{RaoFormViewModel.modifiedBy || 'NA'}}</span>
            <strong>On: </strong> <span>{{RaoFormViewModel.modifiedDate|date: 'MMM d, yyyy h:mm a' || ''}}</span>
          </div>
        </div>

        <form [formGroup]="raoFormGroup">

          <!--Department and Subtier-->
          <sam-agency-picker
             [label]="'Federal Agency'"
             [multimode]="false"
             [advancedMode]="false"
             [required]="true"
             [orgId]="RaoFormViewModel.organizationId"
             [initial]="RaoFormViewModel.organizationId ? [RaoFormViewModel.organizationId] : []"
             (organization)="onOrganizationChange($event)"
             [levelLimit]='2'
             formControlName="organizationId" #agencyPicker>
          </sam-agency-picker>

          <!--State/Region-->
          <sam-text
            [control]="raoFormGroup.controls['region']"
            [name]="'region'"
            [label]="'State/Region:'"
            [required]="false"
            formControlName="region">
          </sam-text>

          <!--Point of Contact-->
          <sam-text-area
            [control]="raoFormGroup.controls['pointOfContact']"
            [name]="'poc'"
            [label]="'Point Of Contact:'"
            [required]="true"
            formControlName="pointOfContact">
          </sam-text-area>

          <!--Street Address-->
          <sam-text-area
            [control]="raoFormGroup.controls['street']"
            [name]="'street:'"
            [label]="'Street:'"
            [required]="true"
            formControlName="streetAddress">
          </sam-text-area>

          <!--City-->
          <sam-text
            [control]="raoFormGroup.controls['city']"
            [name]="'city'"
            [label]="'City:'"
            [required]="true"
            formControlName="city">
          </sam-text>

          <!--State-->
          <sam-select
            [control]="raoFormGroup.controls['state']"
            [label]="'State:'"
            [name]="'state-control'"
            [required]="true"
            [options]="stateDrpDwnOptions"
            formControlName="state">
          </sam-select>

          <!--Zip-->
          <sam-text
            [control]="raoFormGroup.controls['zip']"
            [name]="'zip'"
            [label]="'Zip Code:'"
            [required]="true"
            formControlName="zip">
          </sam-text>

          <!--Country-->
          <sam-select
            [control]="raoFormGroup.controls['country']"
            [label]="'Country:'"
            [name]="'contry'"
            [required]="false"
            [options]="countryDrpDwnOptions"
            formControlName="country">
          </sam-select>

          <!--Phone -->
          <sam-text
            [control]="raoFormGroup.controls['phone']"
            [name]="'phone'"
            [label]="'Phone:'"
            [required]="true"
            formControlName="phone">
          </sam-text>

          <!--Sub-Branch-->
          <sam-text
            [control]="raoFormGroup.controls['subBranch']"
            [name]="'subBranch'"
            [label]="'Sub-Branch:'"
            [required]="false"
            formControlName="subBranch">
          </sam-text>

          <!--Division-->
          <sam-select
            [control]="raoFormGroup.controls['division']"
            [label]="'Division:'"
            [name]="'division'"
            [required]="false"
            [options]="divisionDrpDwnOptions"
            formControlName="division">
          </sam-select>

        </form>
      </div>
      <sam-modal #modal2
                 [type]="'info'"
                 [title]="'Are You Sure?'"
                 [cancelButtonLabel]="'No'"
                 [submitButtonLabel]="'Yes'"
                 [description]="'Are you sure you want to delete this location? Note: Any updates made in this space will not be reflected in the public view.'"
                 (onClose)="onModalClose($event)"
                 (onSubmit)="deleteRAO($event)"
      ></sam-modal>

      <div class="usa-width-one-whole m_L-4x">
        <div>
          <div class="pull-left">
            <sam-button buttonText="Submit" (onClick)="onSubmit()"
            [buttonType]="(!raoFormGroup.valid ? 'disabled' : 'default')"></sam-button>
            <div *ngIf="isEditForm" class="pull-right">
              <sam-button buttonText="Delete Location" (onClick)="modal2.openModal()"></sam-button>
            </div>
            <div class="pull-right">
              <sam-button buttonText="Cancel" (onClick)="onCancelClick($event)"></sam-button>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
