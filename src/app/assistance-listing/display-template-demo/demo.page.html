<display-page [attr.class]="'opportunity-page usa-grid'" [logoData]="logoData" [sidenavConfig]="sidenavModel" [alerts]="alert">

<div display-title>
  <ng-container *ngIf="program">
    <sam-title-section id="program-information" [title]="program?.data?.title" [titleId]="program-title">
      <p class="field" id="program-alternative-names" *ngIf="program.data?.alternativeNames && program.data?.alternativeNames[0] != null">
        <strong>Popular Name:</strong> {{program.data.alternativeNames[0]}}
      </p>

      <div class="content-block">
        <ng-container *ngIf="errorOrganization">Organization ID: {{program.data.organizationId}} NOTE: Complete Federal Hierarchy information is currently unavailable.</ng-container>
        <p class="field" id="program-fh-information" *ngIf="federalHierarchy">
          <strong class="capitalize">{{federalHierarchy.type}}: </strong>{{ federalHierarchy.name || federalHierarchy.agencyName }}
        </p>
        <span class="field" id="program-number"><strong>CFDA Number: </strong>{{program.data?.programNumber}}</span>

        <span>
          <strong>Related Federal Assistance: </strong>
          <ng-container *ngIf="relatedProgram && program.data?.relatedPrograms?.length > 0 && relatedProgram.length > 0">
            <ng-container *ngFor="let item of relatedProgram; let isLast = last; let i = index">
              <a class="field" [attr.id]="'program-related-' + i" href="programs/{{item.id}}/view">{{item.programNumber}}</a>{{isLast ? '' : ', '}}
            </ng-container>
          </ng-container>

          <span class="field" id="program-related-na" *ngIf="program.data?.relatedPrograms?.length == 0 || relatedProgram.length == 0">Not Applicable.</span>
        </span>
      </div>
    </sam-title-section>
  </ng-container>
</div>

<div display-content>
  <ng-container *ngIf="program">
    <sam-section id="program-overview" title="Overview" titleId="overview">
      <sam-subsection title="Objectives">
        <p class="field" id="program-objective">
          {{program.data?.objective}}
        </p>
      </sam-subsection>

      <sam-subsection title="Examples of Funded Projects">
        <div class="content-block" [ngSwitch]="program.data?.projects?.isApplicable">
          <ng-container *ngSwitchCase="true">
            <span *ngFor="let item of program.data.projects?.list | keys; let i = index">
              <span class="field" [attr.id]="'program-project-example-' + i" *ngIf="item?.description">
                Fiscal Year {{item.fiscalYear}}: {{item.description}}
              </span>
            </span>
          </ng-container>
          <p class="field" id="program-project-example-na" *ngSwitchDefault>Not Applicable</p>
      </div>
      </sam-subsection>
    </sam-section>

    <sam-section id="program-authorizations" title="Authorizations" titleId="authorizations">
      <div *ngFor="let item of authorizationIdsGrouped; let i = index">
        <p class="field" [attr.id]="'program-authorization-' + i">{{ item | authorization }}</p>
      </div>
    </sam-section>

    <!--Financials-->
    <sam-section id="program-financials" title="Financial Information" titleId="financial-information">
      <financial-obligation-chart *ngIf='dictionaries && program.data?.financial?.obligations' [financialData]='program.data?.financial?.obligations' [dictionaries]='dictionaries'></financial-obligation-chart>

      <sam-subsection title="Range and Average of Financial Assistance">
        <p class="field" id="program-financial-additional-info" *ngIf="(program.data?.financial?.additionalInfo?.content) && (program.data?.financial?.additionalInfo?.content != '')">
          {{program.data.financial.additionalInfo.content}}
        </p>

        <p class="field" id="program-financial-additional-info" *ngIf="!(program.data?.financial?.additionalInfo?.content) || (program.data?.financial?.additionalInfo?.content == '')">
          No Data Available.
        </p>
      </sam-subsection>
      
      <sam-subsection title="Accomplishments">
        <div class="content-block" [ngSwitch]="program.data?.postAward?.accomplishments?.flag">
          <ng-container *ngSwitchCase="'yes'">
            <ng-container *ngFor="let item of program.data.postAward.accomplishments?.list | keys; let i = index">
              <span class="m_B-2x field" [attr.id]="'program-accomplishments-actual-' + i" *ngIf="item.value?.content?.actual && item.value.content.actual != ''"><strong>Fiscal Year {{item.key}}:</strong> {{item.value.content.actual}}</span>
              <span class="m_B-2x field" [attr.id]="'program-accomplighments-projected-' + i" *ngIf="item.value?.content?.projection && item.value.content.projection != ''"><strong>Fiscal Year {{item.key}}:</strong> {{item.value.content.projection}}</span>
            </ng-container>
          </ng-container>

          <p *ngSwitchDefault>Not Applicable.</p>
        </div>
      </sam-subsection>

      <sam-subsection title="Account Identification">
        <p *ngFor="let account of program.data?.financial?.accounts; let i = index">
          <span class="field" [attr.id]="'program-account-identification-' + i" *ngIf="account.description">{{account.code}}-{{account.description}};</span>
          <span class="field" [attr.id]="'program-account-identification-' + i" *ngIf="!account.description">{{account.code}}</span>
        </p>
      </sam-subsection>
    </sam-section>

    <!--Should I apply?-->
    <sam-section id="program-application-criteria" title="Criteria for Applying" titleId="criteria-for-applying">
      <a name="#/programs/{{programID}}/view#criteria-for-applying"></a>

      <sam-subsection title="Types of Assistance">
        <p *ngIf="dictionaries && dictionaries.assistance_type">
          <ng-container *ngFor="let item of program.data?.assistanceTypes | filterMultiArrayObject:dictionaries.assistance_type:'element_id':true:'elements'; let isLast = last; let i = index">
            <span class="field" [attr.id]="'program-assistance-type-' + i">{{ item.displayValue }}{{isLast ? '' : ', '}}</span>
          </ng-container>
        </p>
      </sam-subsection>
      
      <sam-subsection title="Credentials and Documentation">
        <p>
          <ng-container [ngSwitch]="program.data?.eligibility?.documentation?.flag">
            <ng-container *ngSwitchCase="'yes'">
              <span class="field" id="program-elegibility-documentation">{{program.data.eligibility.documentation.content}}</span>
              <ng-container [ngSwitch]="program.data.eligibility.documentation.questions?.OMBCircularA87?.flag">
                <span class="field" id="program-elegibility-question-a87" *ngSwitchCase="'yes'">
                  2 CFR 200, Subpart E - Cost Principles applies to this program.
                </span>

                <span class="field" id="program-elegibility-question-a87" *ngSwitchDefault>
                  This program is excluded from coverage under 2 CFR 200, Subpart E - Cost Principles.
                </span>
              </ng-container>
            </ng-container>

            <ng-container *ngSwitchDefault>None</ng-container>
          </ng-container>
        </p>
      </sam-subsection>

      <sam-subsection title="Applicant Eligibility">
        <sam-well title="Designations" *ngIf="program.data && dictionaries && dictionaries.applicant_types">
          <ng-container *ngFor="let item of program.data?.eligibility?.applicant?.types | filterMultiArrayObject:dictionaries.applicant_types:'element_id':false:''; let isLast = last; let i = index">
            <span class="field" [attr.id]="'program-applicant-designation-' + i">{{ item.value }}{{isLast ? '' : ', '}}</span>
          </ng-container>
        </sam-well>
        <p>
          <span class="field" id="program-applicant-eligibility">{{program.data?.eligibility?.applicant?.additionalInfo?.content}}</span>
        </p>
      </sam-subsection>
      
      <sam-subsection title="Beneficiary Eligibility">
        <sam-well title="Designations" *ngIf="program.data && dictionaries && dictionaries.beneficiary_types">
          <ng-container *ngFor="let item of program.data?.eligibility?.beneficiary?.types | filterMultiArrayObject:dictionaries.beneficiary_types:'element_id':false:''; let isLast = last; let i = index">
            <span class="field" [attr.id]="'program-beneficiary-designation-' + i">{{ item.value }}{{isLast ? '' : ', '}}</span>
          </ng-container>
        </sam-well>

        <p>
          <span class="field" id="program-beneficiary-eligibility">{{program.data?.eligibility?.beneficiary?.additionalInfo?.content}}</span>
        </p>
      </sam-subsection>
      
      <sam-subsection title="Length and Time Phasing of Assistance">
        <p>
          <span class="field" id="program-assistance-lengthtime">{{program.data?.assistance?.limitation?.content}}</span>
          <span class="field" id="program-assistance-method" *ngIf="program.data?.assistance?.limitation?.awarded">
            Method of awarding/releasing assistance: {{program.data.assistance?.limitation?.awarded}}
          </span>
        </p>
      </sam-subsection>
      
      <sam-subsection title="Use of Assistance">
        <sam-well title="Designations" *ngIf="program.data && dictionaries && dictionaries.assistance_usage_types">
          <ng-container *ngFor="let item of program.data?.eligibility?.applicant?.assistanceUsageTypes | filterMultiArrayObject:dictionaries.assistance_usage_types:'element_id':false:''; let isLast = last; let i = index">
            <span class="field" [attr.id]="'program-usage-designation-' + i">{{ item.value }}{{isLast ? '' : ', '}}</span>
          </ng-container>
        </sam-well>

        <p>
          <span class="field" id="program-usage-rules" *ngIf="program.data?.eligibility?.usage?.rules?.description">{{ program.data?.eligibility?.usage?.rules?.description }}</span>
          <span class="field" id="program-usage-restrictions" *ngIf="program.data.eligibility?.usage?.restrictions?.description">{{ program.data.eligibility?.usage?.restrictions?.description }}</span>
          <span class="field" id="program-usage-discretionary-fund" *ngIf="program.data.eligibility?.usage?.discretionaryFund?.description">{{ program.data.eligibility?.usage?.discretionaryFund?.description }}</span>
          <span class="field" id="program-usage-loan-terms" *ngIf="program.data.eligibility?.usage?.loanTerms?.description">{{ program.data.eligibility?.usage?.loanTerms?.description }}</span>
        </p>
      </sam-subsection>
    </sam-section>

    <!--How do I apply?-->
    <sam-section id="program-application-information" title="Applying for Assistance" titleId="applying-for-assistance">
      <sam-subsection title="Deadlines">
        <div class="content-block" [ngSwitch]="program.data?.application?.deadlines?.submission?.flag">
          <ng-container *ngSwitchCase="'yes'">
            <!-- repeat over all deadlines. -->
            <span *ngFor="let deadline of program.data.application.deadlines.submission.list; let i = index">
              <span class="field" [attr.id]="'program-deadline-dates-' + i">
                <ng-container *ngIf="deadline.start">{{deadline.start | dateFormat: 'MMM DD, YYYY'}}</ng-container>
                <ng-container *ngIf="deadline.start && deadline.end"> to </ng-container>
                <ng-container *ngIf="deadline.end">{{deadline.end | dateFormat: 'MMM DD, YYYY'}}</ng-container>
              </span>
              <span class="field" [attr.id]="'program-deadline-description-' + i">{{deadline.description}}</span>
            </span>
          </ng-container>

          <span id="program-deadline-contact" *ngSwitchCase="'contact'">
            Contact the headquarters or regional office, as appropriate for application deadlines
          </span>

          <span id="program-deadline-na" *ngSwitchDefault>
            Not Applicable.
          </span>
        </div>
      </sam-subsection>
      
      <sam-subsection title="Preapplication Coordination">
        <div>
          <ng-container [ngSwitch]="program.data?.preApplication?.coordination?.flag">
            <p *ngSwitchCase="'yes'">
              Preapplication coordination is required.

              <!-- Environmental statements-->
              <ng-container [ngSwitch]="program.data.preApplication.coordination.environmentalImpact?.flag ">
                <ng-container *ngSwitchCase="'yes'">
                  <ng-container *ngFor="let entry of program.data.preApplication.coordination.environmentalImpact.reports | keys; let i = index">
                    <span class="field" [attr.id]="'program-preapplication-coordination-environmental-report-' + i" *ngIf="entry.value?.flag === 'yes'">
                      An environmental impact {{entry.key}} is required for this program.
                    </span>
                  </ng-container>
                </ng-container>

                <span class="field" id="program-preapplication-coorindation-environmental-na" *ngSwitchDefault>
                  Environmental impact information is not required for this program.
                </span>
              </ng-container>

              <!-- Executive Order  -->
              <ng-container [ngSwitch]="program.data.preApplication.coordination.questions?.ExecutiveOrder12372?.flag">
                <span class="field" id="program-preapplication-coordination-executive-order" *ngSwitchCase="'yes'">
                  This program is eligible for coverage under E.O. 12372, "Intergovernmental Review of Federal Programs."
                  An applicant should consult the office or official designated as the single point of contact in his or her State for more
                  information on the process the State requires to be followed in applying for assistance, if the State has selected the program forreview.
                </span>

                <span class="field" id="program-preapplication-coordination-executive-order" *ngSwitchDefault>
                  This program is excluded from coverage under E.O. 12372.
                </span>
              </ng-container>

              <!-- additional content-->
              <span class="field" id="program-preapplication-coordination">
                {{program.data.preApplication.coordination.additionalInfo?.content}}
              </span>
            </p>

            <p class="m-t-0 field" id="program-preapplication-coordination" *ngSwitchDefault>
              Preapplication coordination is not applicable.
            </p>
          </ng-container>
        </div>
      </sam-subsection>

      <sam-subsection title="Application Procedures">
        <p>
          <ng-container [ngSwitch]="program.data?.application?.procedures?.questions?.OMBCircularA102?.flag">
            <span class="field" id="program-application-procedures-a102" *ngSwitchCase="'yes'">
              2 CFR 200, Uniform Administrative Requirements, Cost Principles, and Audit Requirements for Federal Awards applies to this program.
            </span>

            <span class="field" id="program-application-procedures-a102" *ngSwitchDefault>
              This program is excluded from coverage under 2 CFR 200, Uniform Administrative Requirements, Cost Principles, and Audit
              Requirements for Federal Awards.
            </span>
          </ng-container>

          <!-- additional content-->
          <span class="field" id="program-application-procedures">
            {{program.data?.application?.procedures?.additionalInfo?.content}}
          </span>
        </p>
      </sam-subsection>

      <sam-subsection title="Criteria for Selecting Proposals">
        <p>
          <ng-container [ngSwitch]="program.data?.application?.selectionCriteria?.flag">
            <span class="field" id="program-selection-criteria" *ngSwitchCase="'yes'">
              {{program.data.application.selectionCriteria.content}}
            </span>

            <span class="field" id="program-selection-criteria" *ngSwitchCase="'no'">
              No
            </span>

            <span class="field" id="program-selection-criteria" *ngSwitchDefault>
              Not Applicable
            </span>
          </ng-container>
        </p>
      </sam-subsection>

      <sam-subsection title="Award Procedure">
        <p class="field" id="program-award-procedure">
          {{program.data?.award?.procedures?.content}}
        </p>
      </sam-subsection>

      <sam-subsection title="Date Range for Approval/Disapproval">
        <p class="field" id="program-application-approval-interval" [ngSwitch]="program.data?.application?.deadlines?.approval?.interval">
          <ng-container *ngSwitchCase="'1'"><em>From 1 to 15 days</em></ng-container>
          <ng-container *ngSwitchCase="'2'"><em>From 15 to 30 days</em></ng-container>
          <ng-container *ngSwitchCase="'3'"><em>From 30 to 60 days</em></ng-container>
          <ng-container *ngSwitchCase="'4'"><em>From 60 to 90 days</em></ng-container>
          <ng-container *ngSwitchCase="'5'"><em>From 90 to 120 days</em></ng-container>
          <ng-container *ngSwitchCase="'6'"><em>From 120 to 180 days</em></ng-container>
          <ng-container *ngSwitchCase="'7'"><em>&gt; 180 Days</em></ng-container>
          <ng-container *ngSwitchCase="'8'"><em>Not Applicable</em></ng-container>
          <ng-container *ngSwitchCase="'9'"><em>Other</em></ng-container>
          <span class="field" id="program-application-approval">
            {{program.data?.application?.deadlines?.approval?.otherInfo?.content}}
          </span>
        </p>
      </sam-subsection>

      <sam-subsection title="Renewals">
        <p class="field" id="program-application-renewal-interval" [ngSwitch]="program.data?.application?.deadlines?.renewal?.interval">
          <ng-container *ngSwitchCase="'1'"><em>From 1 to 15 days</em></ng-container>
          <ng-container *ngSwitchCase="'2'"><em>From 15 to 30 days</em></ng-container>
          <ng-container *ngSwitchCase="'3'"><em>From 30 to 60 days</em></ng-container>
          <ng-container *ngSwitchCase="'4'"><em>From 60 to 90 days</em></ng-container>
          <ng-container *ngSwitchCase="'5'"><em>From 90 to 120 days</em></ng-container>
          <ng-container *ngSwitchCase="'6'"><em>From 120 to 180 days</em></ng-container>
          <ng-container *ngSwitchCase="'7'"><em>&gt; 180 Days</em></ng-container>
          <ng-container *ngSwitchCase="'8'"><em>Not Applicable</em></ng-container>
          <ng-container *ngSwitchCase="'9'"><em>Other</em></ng-container>
          <span class="field" id="program-application-renewal">
            {{program.data?.application?.deadlines?.renewal?.otherInfo?.content}}
          </span>
        </p>
      </sam-subsection>

      <sam-subsection title="Renewals">
        <p class="field" id="program-application-renewal-interval" [ngSwitch]="program.data?.application?.deadlines?.renewal?.interval">
          <ng-container *ngSwitchCase="'1'"><em>From 1 to 15 days</em></ng-container>
          <ng-container *ngSwitchCase="'2'"><em>From 15 to 30 days</em></ng-container>
          <ng-container *ngSwitchCase="'3'"><em>From 30 to 60 days</em></ng-container>
          <ng-container *ngSwitchCase="'4'"><em>From 60 to 90 days</em></ng-container>
          <ng-container *ngSwitchCase="'5'"><em>From 90 to 120 days</em></ng-container>
          <ng-container *ngSwitchCase="'6'"><em>From 120 to 180 days</em></ng-container>
          <ng-container *ngSwitchCase="'7'"><em>&gt; 180 Days</em></ng-container>
          <ng-container *ngSwitchCase="'8'"><em>Not Applicable</em></ng-container>
          <ng-container *ngSwitchCase="'9'"><em>Other</em></ng-container>
          <span class="field" id="program-application-renewal">
            {{program.data?.application?.deadlines?.renewal?.otherInfo?.content}}
          </span>
        </p>
      </sam-subsection>
      
      <sam-subsection title="Appeals">
        <p class="field" id="program-application-appeal-interval" [ngSwitch]="program.data?.application?.deadlines?.appeal?.interval">
          <ng-container *ngSwitchCase="'1'"><em>From 1 to 15 days</em></ng-container>
          <ng-container *ngSwitchCase="'2'"><em>From 15 to 30 days</em></ng-container>
          <ng-container *ngSwitchCase="'3'"><em>From 30 to 60 days</em></ng-container>
          <ng-container *ngSwitchCase="'4'"><em>From 60 to 90 days</em></ng-container>
          <ng-container *ngSwitchCase="'5'"><em>From 90 to 120 days</em></ng-container>
          <ng-container *ngSwitchCase="'6'"><em>From 120 to 180 days</em></ng-container>
          <ng-container *ngSwitchCase="'7'"><em>&gt; 180 Days</em></ng-container>
          <ng-container *ngSwitchCase="'8'"><em>Not Applicable</em></ng-container>
          <ng-container *ngSwitchCase="'9'"><em>Other</em></ng-container>
          <span class="field" id="program-application-appeal">
            {{program.data?.application?.deadlines?.appeal?.otherInfo?.content}}
          </span>
        </p>
      </sam-subsection>
    </sam-section>

    <!--Compliance requirements-->
    <sam-section id="program-compliance-requirements" title="Compliance Requirements" titleId="compliance-requirements">
      <sam-subsection title="Reports">
        <div>
          <ng-container [ngSwitch]="program.data?.postAward?.reports?.flag">
            <p class="field" id="program-postaward-reports" *ngSwitchCase="'yes'">
              <span class="field" id="program-postaward-reports-program" *ngIf="program.data.postAward.reports.list?.program?.flag == 'yes'">{{program.data.postAward.reports.list.program.content}}</span>
              <span class="field" id="program-postaward-reports-cash" *ngIf="program.data.postAward.reports.list?.cash?.flag == 'yes'">{{program.data.postAward.reports.list.cash.content}}</span>
              <span class="field" id="program-postaward-reports-progress" *ngIf="program.data.postAward.reports.list?.progress?.flag == 'yes'">{{program.data.postAward.reports.list.progress.content}}</span>
              <span class="field" id="program-postaward-reports-expenditure" *ngIf="program.data.postAward.reports.list?.expenditure?.flag == 'yes'">{{program.data.postAward.reports.list.expenditure.content}}</span>
              <span class="field" id="program-postaward-reports-performance" *ngIf="program.data.postAward.reports.list?.performanceMonitoring?.flag == 'yes'">{{program.data.postAward.reports.list.performanceMonitoring.content}}</span>
            </p>

            <p class="m-a-0 field" id="program-postaward-reports" *ngSwitchCase="'no'">
              No reports are required.
            </p>

            <p class="m-a-0 field" id="program-postaward-reports" *ngSwitchDefault>
              Not Applicable
            </p>
          </ng-container>
        </div>
      </sam-subsection>

      <sam-subsection title="Audits">
        <div>
          <ng-container [ngSwitch]="program.data?.postAward?.audit?.flag">
            <p *ngSwitchCase="'yes'">
              <ng-container [ngSwitch]="program.data.postAward.audit.questions?.OMBCircularA133?.flag">
                <span class="field" id="program-postaward-audit-a133" *ngSwitchCase="'yes'">
                  In accordance with the provisions of 2 CFR 200, Subpart F - Audit Requirements,
                  nonfederal entities that expend financial assistance of $750,000 or more in Federal
                  awards will have a single or a program-specific audit conducted for that year. Non-Federal
                  entities that expend less than $750,000 a year in Federal awards are exempt from Federal
                  audit requirements for that year, except as noted in 2 CFR 200.503
                </span>

                <span class="field" id="program-postaward-audit-a133" *ngSwitchDefault>
                  This program is excluded from coverage under 2 CFR 200, Subpart F - Audit Requirements.
                </span>
              </ng-container>

              <span class="field" id="program-postaward-audit">{{program.data.postAward.audit.content}}</span>
            </p>

            <p class="m-a-0 field" id="program-postaward-audit" *ngSwitchCase="'no'">
              No audits are required for this program.
            </p>

            <p class="m-a-0 field" id="program-postaward-audit" *ngSwitchDefault>
              Not Applicable.
            </p>
          </ng-container>
        </div>
      </sam-subsection>

      <sam-subsection title="Records">
        <p class="field" id="program-postaward-records" *ngIf="(program.data?.postAward.records?.content) && (program.data.postAward.records.content != '')">
          {{program.data.postAward.records.content}}
        </p>

        <p class="field" id="program-postaward-records" *ngIf="!(program.data?.postAward.records?.content) || (program.data.postAward.records.content == '')">
          No Data Available.
        </p>
      </sam-subsection>
      
      <sam-subsection title="Regulations, Guidelines, and Literature">
        <p>
          <ng-container [ngSwitch]="program.data?.postAward?.documents?.flag">
            <span class="field" id="program-postaward-documents" *ngSwitchCase="'yes'"> {{program.data.postAward.documents.content}}</span>
            <span class="field" id="program-postaward-documents" *ngSwitchDefault> Not Applicable.</span>
          </ng-container>
        </p>
      </sam-subsection>

      <sam-subsection title="Formula and Matching Requirements">
        <!-- statutory formula-->
        <ng-container [ngSwitch]="program.data?.assistance?.formula?.flag">
          <div class="m-a-0 field" id="program-assistance-formula" *ngSwitchCase="'yes'">
            Statutory Formula: Title {{program.data.assistance.formula.title}} Chapter {{program.data.assistance.formula.chapter}}
            Part {{program.data.assistance.formula.part}} Subpart {{program.data.assistance.formula.subPart}} Public Law {{program.data.assistance.formula.publicLaw}}
            {{program.data.assistance.formula.additionalInfo?.content}}
          </div>

          <div class="m-a-0 field" id="program-assistance-formula" *ngSwitchCase="'no'">
            This federal assistance listing has no statutory formula
          </div>

          <div class="m-a-0 field" id="program-assistance-formula" *ngSwitchDefault>
            Statuary formula is not applicable to this federal assistance listing.
          </div>
        </ng-container>

        <!-- matching requirements -->
        <ng-container [ngSwitch]="program.data?.assistance?.matching?.flag">
          <div class="m-a-0 field" id="program-assistance-matching" *ngSwitchCase="'yes'">
            Matching Requirements: <ng-container *ngIf="program.data.assistance.matching?.percent > 0">Percent: {{program.data.assistance.matching.percent}}</ng-container>
            {{program.data.assistance.matching.otherInfo?.content}}
          </div>

          <div class="m-a-0 field" id="program-assistance-matching" *ngSwitchCase="'no'">
            This program has no matching requirements.
          </div>

          <div class="m-a-0 field" id="program-assistance-matching" *ngSwitchDefault>
            Matching requirements are not applicable to this federal assistance listing.
          </div>
        </ng-container>

        <!-- moe-->
        <ng-container [ngSwitch]="program.data?.assistance?.moe?.flag">
          <div class="m-a-0 field" id="program-assistance-moe" *ngSwitchCase="'yes'">
            This program has MOE requirements, see funding agency for further details. Additional Information:
            {{program.data.assistance.moe.additionalInfo?.content}}
          </div>

          <div class="m-a-0 field" id="program-assistance-moe" *ngSwitchCase="'no'">
            This program does not have MOE requirements.
          </div>

          <div class="m-a-0 field" id="program-assistance-moe" *ngSwitchDefault>
            MOE requirements are not applicable to this federal assistance listing.
          </div>
        </ng-container>
      </sam-subsection>
    </sam-section>

    <!--Contact information-->
    <sam-section id="program-contact-information" title="Contact Information" titleId="contact-information">
      <address>
        <sam-subsection title="Regional or Local Office">
          <span class="field" id="program-contacts-local" *ngIf="program.data?.contacts?.local?.flag == 'appendix'"> See Regional Agency Offices. {{program.data.contacts['local']?.description }}</span>
          <span class="field" id="program-contacts-local" *ngIf="program.data?.contacts?.local?.flag == 'none'"> None. {{program.data.contacts['local']?.description }}</span>
        </sam-subsection>
        
        <sam-subsection title="Headquarters Office">
          <div *ngFor="let item of program.data.contacts?.headquarters; let i = index">
            <samPOC [attr.id]="'program-contacts-poc-' + i" [data]="item"></samPOC>
          </div>
          <strong>Website: </strong>
          <ng-container *ngIf="!program.data?.website || program.data?.website == null ">No Data Available</ng-container>
          <ng-container *ngIf="program.data?.website">{{program.data.website}}</ng-container>
        </sam-subsection>
      </address>
    </sam-section>

    <!--History Section-->
    <sam-section id="program-history" *ngIf="historicalIndex" title="History" titleId="history">
      <ng-container *ngFor="let item of historicalIndex; let i = index">
        <div id="historyItem" *ngIf="(!(item.actionType == 'publish' && item.index != 1))">
          <p class="field" [attr.id]="'program-historical-' + i">
            {{item.fiscalYear}}
            <span class="historyDetails" [attr.id]="'program-historical-details-' + i">{{item.actionType | historicalIndexLabel}}</span>
          </p>
          <p id="changeDescription">{{item.changeDescription}}</p>
        </div>
      </ng-container>
    </sam-section>
  </ng-container>
</div>
</display-page>
