<sam-modal #deleteModal
          [showClose]="true"
          [closeOnOutsideClick]="true"
          [closeOnEscape]="true"
          [type]="'warning'"
          [title]="'Delete Obligation'"
          [description]="description"
          [submitButtonLabel]="'Ok'"
          [cancelButtonLabel]="'Cancel'"
          (onSubmit)="onDeleteModalSubmit()">
</sam-modal>
<table class="sam-ui table celled lightest blue" *ngIf="tableView && tableView.isReady && tableView.obligationsInfo && tableView.obligationsInfo.length > 0">
  <thead>
  <tr>
    <th scope="col">Obligations</th>
    <th scope="col">FY {{prevFY}}</th>
    <th scope="col">FY {{currentFY}} (est.)</th>
    <th scope="col">FY {{nextFY}} (est.)</th>
    <th scope="col">Actions</th>

  </tr>
  </thead>
  <tbody>

  <ng-container *ngFor="let obligation of tableView.obligationsInfo; let i = index">
    <tr>
      <td><span class='usa-input-error-message' *ngIf="!obligation.assistanceType || obligation.assistanceType.code == undefined || obligation.assistanceType.code == ''"><sup>*</sup>This field is required</span>{{obligation.assistanceType && obligation.assistanceType.name ? obligation.assistanceType.name : ''}}</td>
      <td *ngIf="obligation['pFY']['radioOptionId']==='pFYActual'">
        {{obligation['pFY']['radioOptionId']==='pFYActual' && obligation['pFY']['textboxValue']!==''?'$' +
        obligation['pFY']['textboxValue']:''}}
      </td>
      <td *ngIf="obligation['pFY']['radioOptionId']==='pFYNsi'">Not Separately Identifiable</td>
      <td *ngIf="obligation['pFY']['radioOptionId']==='pFYNa'">Not available</td>

      <td *ngIf="obligation['cFY']['radioOptionId']==='cFYEstimate'">
        {{obligation['cFY']['radioOptionId']==='cFYEstimate' && obligation['cFY']['textboxValue']!==''?'$' +
        obligation['cFY']['textboxValue']:''}}
      </td>
      <td *ngIf="obligation['cFY']['radioOptionId']==='cFYNsi'">Not Separately Identifiable</td>
      <td *ngIf="obligation['cFY']['radioOptionId']==='cFYNa'">Not available</td>

      <td *ngIf="obligation['bFY']['radioOptionId']==='bFYEstimate'">
        {{obligation['bFY']['radioOptionId']==='bFYEstimate' && obligation['bFY']['textboxValue']!==''?'$' +
        obligation['bFY']['textboxValue']:''}}
      </td>
      <td *ngIf="obligation['bFY']['radioOptionId']==='bFYNsi'">Not Separately Identifiable</td>
      <td *ngIf="obligation['bFY']['radioOptionId']==='bFYNa'">Not available</td>
      <td>
        <ng-container *ngIf="!hideAddButton">
          <a class="fal-table-edit" (click)="editObligation(i)">
            Edit
            <em class="fa fa-pencil fal-table-edit" aria-hidden="true" (click)="editObligation(i)"></em>
          </a>
          <a class="fal-table-delete" (click)="removeObligation(i)">
            Delete
            <em class="fa fa-times fal-table-delete" aria-hidden="true" (click)="removeObligation(i)"></em>
          </a>
        </ng-container>

        <ng-container *ngIf="hideAddButton">
          <span class="fal-table-edit disabled">Edit</span>
          <em class="fa fa-pencil fal-table-edit disabled" aria-hidden="true"></em>
          <span class="fal-table-delete disabled">Delete</span>
          <em class="fa fa-times fal-table-delete disabled" aria-hidden="true"></em>
        </ng-container>
      </td>
    </tr>

  </ng-container>
  <tr>
    <td>Total</td>
    <td>${{tableView.totalValue.totalpFY}}</td>
    <td>${{tableView.totalValue.totalcFY}}</td>
    <td>${{tableView.totalValue.totalbFY}}</td>
    <td></td>
  </tr>
  </tbody>
</table>
