<labelWrapper #accountIdentificationLabel
              [name]="name"
              [label]="label"
              [hint]="hint"
              [required]="required">

  <form novalidate [formGroup]="accountFormGroup">
    <!-- todo: add styling -->
    <table *ngIf="model.accounts && model.accounts.length > 0">
      <thead>
      <tr>
        <th scope="col">
          Account Code
        </th>
        <th scope="col">
          Description
        </th>
        <th scope="col">
          Actions
        </th>
      </tr>
      </thead>
      <tbody>
      <ng-container *ngFor="let account of model.accounts; let i=index">
        <tr>
          <td>{{ account.code }}</td>
          <td>{{ account.description }}</td>
          <td>
            <a (click)="removeAccount(i)">Delete</a>
            <a (click)="editAccount(i)">Edit</a>
          </td>
        </tr>
      </ng-container>
      </tbody>
    </table>

    <labelWrapper #codeLabel
                  [name]="codeLabelName"
                  [label]="'Code'"
                  [hint]="codeHint"
                  [required]="true">

      <div class="usa-grid-full">
        <div class="usa-width-one-whole" [formGroup]="codeFormGroup">
          <ng-container *ngFor="let length of codeBoxLengths; let i = index; let isLast = last">
            <!-- todo: don't hardcode maxwidth -->
            <samText [name]="'code-box-' + i"
                     [maxlength]="length"
                     [style.display]="'inline-block'"
                     [style.maxWidth]=".9*length + 2.55 + 'rem'"
                     [formControlName]="'codeBox' + i"
            ></samText>
            {{isLast ? '' : '-'}}
          </ng-container>
        </div>
      </div>

    </labelWrapper>

    <samTextArea [name]="textareaName"
                 [placeholder]="textareaPlaceholder"
                 [disabled]="textareaDisabled"
                 [hidden]="textareaHidden"
                 [formControl]="textareaControl"
    ></samTextArea>

    <samButton *ngIf="currentIndex === model.accounts.length" buttonText="Add New Account" (onClick)="addAccount()" [buttonType]="(!codeFormGroup.valid ? 'disabled' : 'default')"></samButton>
    <samButton *ngIf="currentIndex < model.accounts.length" buttonText="Confirm" (onClick)="addAccount()" [buttonType]="(!codeFormGroup.valid ? 'disabled' : 'default')"></samButton>
  </form>

</labelWrapper>
