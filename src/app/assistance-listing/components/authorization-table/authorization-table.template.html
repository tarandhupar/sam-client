<sam-modal #deleteModal
          [showClose]="true"
          [closeOnOutsideClick]="true"
          [closeOnEscape]="true"
          [type]="'warning'"
          [title]="modalConfig.title"
          [description]="modalConfig.description"
          [submitButtonLabel]="'Ok'"
          [cancelButtonLabel]="'Cancel'"
          (onSubmit)="onDeleteModalSubmit()">
</sam-modal>

<table [class.hide]="displayAuthInfo.length == 0" class="sam-ui table celled lightest blue">
  <thead>
  <th scope="col" id="authorization-table">Authorization(s)/Amendments</th>
  <th colspan="2" scope="colgroup" id="actions">Actions</th>
  </thead>
  <tbody>
  <ng-container *ngFor="let auth of displayAuthInfo; let i=index">
    <tr>
      <td>
        <span class='usa-input-error-message' *ngIf="subFormErrorIndex[auth.index]"><sup>*</sup>This field is required</span>
        {{auth.label}}
      </td>
      <td class="single line">
        <ng-container *ngIf="!hideAddButton">
          <a class="fal-table-edit" (click)="editAuth(i)">
            Edit
            <em class="fa fa-pencil fal-table-edit" aria-hidden="true" (click)="editAuth(i)"></em>
          </a>
          <a class="fal-table-delete" (click)="removeAuth(i)">
            Delete
            <em class="fa fa-times fal-table-delete" aria-hidden="true" (click)="removeAuth(i)"></em>
          </a>
        </ng-container>

        <ng-container *ngIf="hideAddButton">
          <span class="fal-table-edit disabled">Edit</span>
          <em class="fa fa-pencil fal-table-edit disabled" aria-hidden="true"></em>
          <span class="fal-table-delete disabled">Delete</span>
          <em class="fa fa-times fal-table-delete disabled" aria-hidden="true"></em>
        </ng-container>
      </td>

      <td class="single line">
        <ng-container *ngIf="!hideAddButton">
          <a class="fal-table-amend" (click)="addAmend(auth.index)">
            Amend
            <em class="fa fa-plus fal-table-amend" aria-hidden="true" (click)="addAmend(auth.index)"></em>
          </a>
        </ng-container>
        <ng-container *ngIf="hideAddButton">
          <span class="fal-table-amend disabled">Amend</span>
          <em class="fa fa-plus fal-table-amend disabled" aria-hidden="true"></em>
        </ng-container>
      </td>
    </tr>

    <ng-container *ngFor="let amend of auth.children; let j=index">
      <tr>
        <td class="amend-table-col">
          <span class='usa-input-error-message' *ngIf="subFormErrorIndex[amend.index]"><sup>*</sup>This field is required</span>
          &emsp;{{amend.label}}
        </td>
        <td>
          <ng-container *ngIf="!hideAddButton">
            <a class="fal-table-edit" (click)="editAuth(j, i)">
              Edit
              <em class="fa fa-pencil fal-table-edit" aria-hidden="true" (click)="editAuth(j, i)"></em>
            </a>
            <a class="fal-table-delete" (click)="removeAuth(j, i)">
              Delete
              <em class="fa fa-times fal-table-delete" aria-hidden="true" (click)="removeAuth(j, i)"></em>
            </a>
          </ng-container>

          <ng-container *ngIf="hideAddButton">
            <span class="fal-table-edit disabled">Edit</span>
            <em class="fa fa-pencil fal-table-edit disabled" aria-hidden="true"></em>
            <span class="fal-table-delete disabled">Delete</span>
            <em class="fa fa-times fal-table-delete disabled" aria-hidden="true"></em>
          </ng-container>

        </td>
        <td></td>
      </tr>
    </ng-container>

  </ng-container>
  </tbody>
</table>
