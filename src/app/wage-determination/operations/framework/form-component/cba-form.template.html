<page
  [breadcrumbs]="crumbs"
  (breadcrumbOut)="breadcrumbHandler($event)"
  theme="inside"
  [section]="'Workspace'"
  [title]="cbaFormViewModel.isNew ? 'New Collective Bargaining Agreement' : (cbaFormViewModel.wdNumber ? ('Revise ' + cbaFormViewModel.wdNumber) : 'Edit Collective Bargaining Agreement')">

  <sidebar>
    <div sam-sticky limit=1200 container="page-content">
      <img *ngIf="sideNavImage" src="{{sideNavImage}}" alt="{{sideNavImageAlt}}"/>
      <sam-sidenav
        type="step"
        (selection)="navHandler($event)"
        [labelLookup]="sideNavSelection"
        [model]="sideNavModel">
      </sam-sidenav>
    </div>
  </sidebar>

  <ng-container>
    <tabs-cba #tabsCBAComponent
              [data]="cbaFormViewModel['_cba']"
              (tabClick)="tabsClicked($event)">
    </tabs-cba>

    <div class="sam-ui segment">
      <sam-text
        [value]="cbaFormViewModel.isNew ? '' : cbaFormViewModel.wdNumber"
        [name]="'metadata-wd-number-input'"
        [label]="'CBA Number'"
        [hint]="cbaFormViewModel.isNew ? 'Note: Your CBA Number will be automatically generated by system when the CBA is published for public viewing.' : ''"
        [attr.id]="'wd-number-cba-create'"
        [disabled]="true">
      </sam-text>
      <sam-text
        [value]="cbaFormViewModel.revisionNumber ? cbaFormViewModel.revisionNumber : 0"
        [name]="'metadata-revision-number-input'"
        [label]="'Revision Number'"
        [attr.id]="'revision-number-cba-create'"
        [disabled]="true">
      </sam-text>
      <span><b>Disclaimer</b></span>
      <p>The Agency Contracting Officer should complete the following form in order to obtain a Collective Bargaining Agreement (CBA) WD for an SCA-applicable collective bargaining agreement. The Contracting Officer must prepare a separate CBA WD for each covered CBA applicable to a contract action (including separate CBA WDs for prime and subcontractors)</p>
    </div>

    <div class="sam-ui divider"></div>
    <cba-form-contractor
      [viewModel]="cbaFormViewModel" #form>
    </cba-form-contractor>
    <div class="sam-ui divider"></div>
    <cba-form-location
      [viewModel]="cbaFormViewModel" #form>
    </cba-form-location>
    <div class="sam-ui divider"></div>
    <cba-form-contract
      [viewModel]="cbaFormViewModel" #form>
    </cba-form-contract>
    <div class="sam-ui divider"></div>
    <cba-form-dates
      [viewModel]="cbaFormViewModel" #form>
    </cba-form-dates>
  </ng-container>

  <div class="sam-ui divider"></div>

  <div grid>
    <div columns="12" class="right aligned">
      <sam-button
        [buttonId]="'fal-form-nav-cancel'"
        buttonType="tertiary"
        buttonText="Cancel"
        (onClick)="onCancelClick('cancel')">
      </sam-button>

      <sam-button
        [buttonId]="'fal-form-nav-done'"
        buttonText="Save As Draft"
        (onClick)="onSaveClick()">
      </sam-button>

      <sam-button
        [buttonId]="'fal-form-nav-done'"
        buttonText="Publish and Copy"
        [buttonDisabled]="true">
      </sam-button>

      <sam-button
        [buttonId]="'fal-form-nav-done'"
        buttonText="Publish"
        [buttonDisabled]="true">
      </sam-button>
    </div>
  </div>

  <div class="sam-ui divider"></div>
</page>
