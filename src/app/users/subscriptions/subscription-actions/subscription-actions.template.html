<div class="sam-actions">
    <!-- sam-click-outside
     (clickOutside)="hideActions()"
     sam-tab-outside
     (tabOutside)="hideActions()">

  <button class="usa-button"
          (click)="toggleActions()"
          [ngClass]="buttonType === 'primary' ? 'usa-button-primary' : ''"
          [disabled]="disabled">
    Actions&nbsp;
    <i class="fa fa-chevron-down"></i>
  </button>

  <ul class="usa-unstyled-list"
      *ngIf="showActions">
    <li *ngFor="let action of actions">
      <button *ngIf="!action.name"  class="usa-button" (click)="toggleActions()" [disabled]="'true'">
        <span><strong>{{action?.label}}</strong></span>
      </button>
      <button *ngIf="action.name" class="usa-button" (click)="chooseAction(action)">
        <span><strong>{{action?.label}}</strong></span>
      </button>  
      <ul class="usa-unstyled-list" *ngIf="action.options.length > 0">
        <li *ngFor="let item of action.options">
          <button class="usa-button" (click)="chooseAction(item)">
            <span>&nbsp;&nbsp;{{item?.label}}</span>
          </button>
        </li>    
      </ul>
      <button class="usa-button" (click)="chooseAction(action)">
        <span><strong>Unsubscribe</strong></span>
      </button>  
    </li>
  </ul -->

    <select [(ngModel)]="selectedAction" (ngModelChange)="chooseAction()" aria-label="Subsctription Actions">
        <!-- WORKING -->
       <option value="" selected hidden>Actions</option>        
        <!-- NOT WORKING -->
        <ng-template ngFor let-action [ngForOf]="actions">
            <optgroup *ngIf="action.options" label="{{action.label}}">
                <option *ngFor="let option of action.options" [ngValue]="option.name">{{option?.label}}</option>
            </optgroup>
            <option *ngIf="!action.options" [ngValue]="action.name"><strong>{{action?.label}}</strong></option>
        </ng-template>
    </select>
</div>
