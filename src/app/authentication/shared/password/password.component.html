<div class="usa-password">
  <div class="usa-grid">
    <div class="usa-width-one-whole">
      <div class="usa-form-large form-group" [ngClass]="$formState()">
        <div>
          <div class="usa-form-container" *ngIf="currentPassword">
          <labelWrapper [name]="'current-password-' + states.uid" label="Current Password" [errorMessage]="$currentPasswordErrors()" [required]="true">
              <input [type]="states.toggle ? 'text' : 'password'"
                     [id]="'current-password-' + states.uid"
                     [formControl]="currentPassword"
                     name="currentPassword"
                     readonly="readonly"
                     onfocus="this.removeAttribute('readonly');" />
            </labelWrapper>
          </div>
          <div>
            <labelWrapper [name]="'password-' + states.uid" label="Create Password" [errorMessage]="(states.submitted || password.touched) ? states.error.password : ''" [required]="true">
              <input [type]="states.toggle ? 'text' : 'password'"
                     [id]="'password-' + states.uid"
                     [formControl]="password"
                     name="password"
                     readonly="readonly"
                     onfocus="this.removeAttribute('readonly');" />
            </labelWrapper>
          </div>
          <div [ngClass]="getFormControlStates('confirmPassword')">
            <labelWrapper [name]="'new-password-' + states.uid" label="Confirm Password" required="true" [errorMessage]="(states.submitted || confirmPassword.touched) ? states.error.confirmPassword : ''">
              <input [type]="states.toggle ? 'text' : 'password'"
                     [id]="'new-password-' + states.uid"
                     [formControl]="confirmPassword"
                     name="confirmPassword"
                     readonly="readonly"
                     onfocus="this.removeAttribute('readonly');" />
            </labelWrapper>
          </div>
          <p class="usa-form-note">
            <input type="checkbox" id="usa-password-toggle" (change)="states.toggle = !states.toggle">
            <label for="usa-password-toggle">Toggle password</label>
          </p>
        </div>
        <div class="usa-password-progress">
          <ul>
            <li class="header">Passwords must:</li>
            <li>
              <div class="icon"><span class="fa" [ngClass]="$formState(states.validations.minlength)"></span></div>
              <span [innerHTML]="config.messages.minlength"></span>
            </li>
            <li>
              <div class="icon"><span class="fa" [ngClass]="$formState(states.validations.uppercase)"></span></div>
              <span [innerHTML]="config.messages.uppercase"></span>
            </li>
            <li>
              <div class="icon"><span class="fa" [ngClass]="$formState(states.validations.numeric)"></span></div>
              <span [innerHTML]="config.messages.numeric"></span>
            </li>
            <li>
              <div class="icon"><span class="fa" [ngClass]="$formState(states.validations.special)"></span></div>
              <span [innerHTML]="config.messages.special"></span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
